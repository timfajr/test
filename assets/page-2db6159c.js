import{n as je,s as $e}from"./container-7bbbd8b6.js";import{_ as $}from"./plugin-vue_export-helper-c27b6911.js";import{r as a,o as y,c as v,f as t,b as s,q as Fe,a as B,s as Me,w as L,v as O,t as ee,d as Y,g as G,x as Te,h as Q,i as Ee,P as Pe,j as X,k as x,l as Ce,m as l,u as M,p as ze}from"./vendor-a953f008.js";import{i as te}from"./src/images/logo-0effd6fc.js";import{m as oe}from"./src/assets/jabar_S-d0aa7bc2.js";import{j as f}from"./src/assets/jabar_P-78703819.js";import{s as g}from"./src/store/index-0f907344.js";const De={name:"App",data(){return{}},components:{navbar:je,sidebar:$e}},Ie={class:"w-screen min-h-screen flex flex-col justify items-center"},Ke={class:"justify h-full w-screen justify-center text-lg font-semibold text-white"};function Ae(n,r,k,S,c,w){const d=a("navbar"),T=a("sidebar");return y(),v("div",Ie,[t(d),s("div",Ke,[t(T)])])}const St=$(De,[["render",Ae]]),{cookies:U}=Fe(),Z="http://localhost:3000",Je={name:"App",data(){return{user:"",jwtstatus:"",response:"",success:"",username:"",password:""}},mounted(){this.Setupctx()},methods:{Setupctx(){U.set("atoken",""),setInterval(()=>{console.log("hit");const n=Z+"/admin/token";B.post(n,{},{headers:{access_token:U.get("atoken")}}).then(r=>{r.status===200&&(console.log(r.status),this.jwtstatus="OK")}).catch(r=>{this.response=r,this.jwtstatus="Expired"}),this.jwtstatus=="Expired"&&this.$router.push("/admin/login")},1e3*60)},submitForm(){this.username="",this.password="",this.jwtstatus=="Valid",this.$router.push("/home/")},submitForm2(){B.post(Z+"/admin/login",{username:this.username,password:this.password}).then(n=>{this.success=n.data.message,this.response="success",this.response=JSON.stringify(n.data.message),n.data.message==="success"&&(U.set("atoken",n.data.access_token),this.jwtstatus="OK",this.$router.push("/home/"))}).catch(n=>{this.response="Error: "+n.response.status}),this.username="",this.password="",this.jwtstatus=="Expired"}}},Re={class:"bg-mainblue w-screen h-screen flex flex-col justify-center self-center"},Ne={class:"flex flex-col justify-center self-center"},Ue=s("img",{src:te,class:"object-contain h-28 w-22 rounded mb-20"},null,-1),We={class:"flex flex-col px-24 py-12 bg-white bg-opacity-10 justify-center self-center rounded-xl"},Ve=s("label",{for:"name",class:"text-white"},"Username:",-1),qe=s("br",null,null,-1),He={class:"pt-4"},Be=s("label",{for:"password",class:"text-white"},"Password:",-1),Le=s("br",null,null,-1),Oe=s("button",{class:"flex bg-mainyellow text-mainblue p-2 rounded-xl mt-4 font-semibold",type:"submit"},"Login",-1),Ye={key:0,class:"mt-4 flex flex-col space-y-2 w-full max-h-25 p-2 text-md rounded-lg text-white flex-grow-0"},Ge=s("h3",{class:"bg-white bg-opacity-10 p-2 flex rounded-xl w-fit"},"Notification",-1),Qe={key:0,class:"bg-white bg-opacity-10 rounded-xl p-2 text-elipsis flex overflow-clip"};function Xe(n,r,k,S,c,w){return y(),v("div",Re,[s("div",Ne,[Ue,s("div",We,[s("form",{onSubmit:r[2]||(r[2]=Me((...d)=>w.submitForm&&w.submitForm(...d),["prevent"])),class:"p-2"},[s("div",null,[Ve,qe,L(s("input",{id:"name",type:"text",class:"rounded-xl p-2","onUpdate:modelValue":r[0]||(r[0]=d=>c.username=d),required:""},null,512),[[O,c.username]])]),s("div",He,[Be,Le,L(s("input",{id:"password",type:"password",class:"rounded-xl p-2","onUpdate:modelValue":r[1]||(r[1]=d=>c.password=d),required:""},null,512),[[O,c.password]])]),Oe],32)]),c.response?(y(),v("div",Ye,[Ge,c.response?(y(),v("p",Qe,ee(c.response),1)):Y("",!0)])):Y("",!0)])])}const jt=$(Je,[["render",Xe]]);const Ze={name:"App",data(){return{user:"",host:"",status:"Stopped",currentime:"0",videotime:"0",totaluser:"0",list:[]}},methods:{goback(){this.$route.go(-1)}}},et={class:"bg-mainblue flex w-screen flex-col h-screen relative"},tt={class:"flex flex-col justify-center align-center w-screen self-center h-full"},ot=Te('<svg class="emoji-404 flex self-center" enable-background="new 0 0 226 249.135" height="249.135" id="Layer_1" overflow="visible" version="1.1" viewBox="0 0 226 249.135" width="226" xml:space="preserve"><circle cx="113" cy="113" fill="#FFE585" r="109"></circle><line enable-background="new    " fill="none" opacity="0.29" stroke="#6E6E96" stroke-linecap="round" stroke-linejoin="round" stroke-width="8" x1="88.866" x2="136.866" y1="245.135" y2="245.135"></line><line enable-background="new    " fill="none" opacity="0.17" stroke="#6E6E96" stroke-linecap="round" stroke-linejoin="round" stroke-width="8" x1="154.732" x2="168.732" y1="245.135" y2="245.135"></line><line enable-background="new    " fill="none" opacity="0.17" stroke="#6E6E96" stroke-linecap="round" stroke-linejoin="round" stroke-width="8" x1="69.732" x2="58.732" y1="245.135" y2="245.135"></line><circle cx="68.732" cy="93" fill="#6E6E96" r="9"></circle><path d="M115.568,5.947c-1.026,0-2.049,0.017-3.069,0.045  c54.425,1.551,98.069,46.155,98.069,100.955c0,55.781-45.219,101-101,101c-55.781,0-101-45.219-101-101  c0-8.786,1.124-17.309,3.232-25.436c-3.393,10.536-5.232,21.771-5.232,33.436c0,60.199,48.801,109,109,109s109-48.801,109-109  S175.768,5.947,115.568,5.947z" enable-background="new    " fill="#FF9900" opacity="0.24"></path><circle cx="156.398" cy="93" fill="#6E6E96" r="9"></circle><ellipse cx="67.732" cy="140.894" enable-background="new    " fill="#FF0000" opacity="0.18" rx="17.372" ry="8.106"></ellipse><ellipse cx="154.88" cy="140.894" enable-background="new    " fill="#FF0000" opacity="0.18" rx="17.371" ry="8.106"></ellipse><path d="M13,118.5C13,61.338,59.338,15,116.5,15c55.922,0,101.477,44.353,103.427,99.797  c0.044-1.261,0.073-2.525,0.073-3.797C220,50.802,171.199,2,111,2S2,50.802,2,111c0,50.111,33.818,92.318,79.876,105.06  C41.743,201.814,13,163.518,13,118.5z" fill="#FFEFB5"></path><circle cx="113" cy="113" fill="none" r="109" stroke="#6E6E96" stroke-width="8"></circle></svg>',1),st={class:"tracking-widest mt-10"},at=s("span",{class:"text-white text-6xl block pb-6 animate-pulse text-center"},[s("span",null,"4 0 4")],-1),rt=s("span",{class:"text-white text-lg text-center block"},"Sorry, We couldn't find what you are looking for!",-1),lt={class:"mt-2 flex flex-row text-center justify-center self-center space-x-2"},nt=s("p",{class:"text-white text-md py-2"},"Contact Our ",-1),ct={href:"https://google.com",class:"text-white text-md p-2 rounded-xl bg-white bg-opacity-10"},it=s("p",{class:"text-white text-md py-2"}," Or ",-1),dt={href:"https://google.com",class:"text-white text-md p-2 rounded-xl bg-white bg-opacity-10"},ut=s("a",{href:"secondlife:///app/agent/439c4909-5e04-4ddc-80d9-a7dda347fb5d/about",class:"absolute right-10 bottom-6 flex text-center justify-center self-center text-white pt-10 text-sm"},"Developed For Private Usage ðŸš€",-1);function _t(n,r,k,S,c,w){const d=a("font-awesome-icon");return y(),v("body",et,[s("div",tt,[ot,s("div",st,[at,rt,s("div",lt,[nt,s("a",ct,[t(d,{icon:"fa-solid fa-box-archive"}),G(" Administrator ")]),it,s("a",dt,[t(d,{icon:"fa-solid fa-store"}),G(" Customer Support ")])]),ut])])])}const $t=$(Ze,[["render",_t]]);console.log("My data",oe);const pt={data(){return{myJson:oe}}};function ft(n,r,k,S,c,w){return y(),v("div",null,[s("span",null,ee(c.myJson),1)])}const Ft=$(pt,[["render",ft]]);const mt={id:"mapbase",class:"h-screen flex flex-col"},ht={__name:"map2",setup(n){let r={};const k=(e,o)=>{const p=e.get("features").length,m=p>20?"192,0,0":p>8?"255,128,0":"0,128,0",u=Math.max(8,Math.min(p,20)),i=2*Math.PI*u/6,b=[0,i,i,i,i,i,i];o.getImage().getStroke().setLineDash(i),o.getImage().getStroke().setColor("rgba("+m+",0.5)"),o.getImage().getStroke().setLineDash(b),o.getImage().getFill().setColor("rgba("+m+",1)"),o.getImage().setRadius(u),o.getText().setText(p.toString())},S=e=>{console.log(e.selected[0]),e.selected[0]&&e.selected[0].values_.features[0].values_.data.name?(r={name:e.selected[0].values_.features[0].values_.data.name,canvaser:e.selected[0].values_.features[0].values_.data.canvaser,catatan:e.selected[0].values_.features[0].values_.data.catatan,memilih:e.selected[0].values_.features[0].values_.data.memilih,tokoh:e.selected[0].values_.features[0].values_.data.tokoh,mesjid:e.selected[0].values_.features[0].values_.data.mesjid},g.dispatch("cart/addPoint",r),g.commit("cart/initialiseStore")):r={}},c=f.features.length;let w=Q(()=>Array.from({length:c},(e,o)=>{const _=new Ee({geometry:new Pe([f.features[o].properties.longtitude,f.features[o].properties.latitude]),index:o});return _.setProperties({data:{name:f.features[o].properties.nama_warga,canvaser:f.features[o].properties.nama_canva,catatan:f.features[o].properties.catatan,memilih:f.features[o].properties.SuaraTerba,mesjid:f.features[o].properties.mesjid,tokoh:f.features[o].properties.Tokoh}}),_.setId(o),_}));function d(){console.log("features load start")}function T(){console.log("features load error")}function se(){console.log("features load end")}X(()=>{g.commit("cart/initialiseStore")});let E=0,P=0,C=0,z=1,D=0,I=0,K=0,A=0,J=0;const R=x(null),W=x(null);x("https://raw.githubusercontent.com/timfajr/axczweqe/main/src/assets/jabar_S.json"),x("https://openlayers.org/data/vector/ecoregions.json");const ae=x([107.6191,-6.9175]),V=x("EPSG:4326"),re=x(10),le=x(0),ne=Ce("ol-format"),q=new ne.GeoJSON;Q(()=>`http://localhost:3000/${count.value}`);const ce={zIndex:15,"circle-radius":6,"circle-fill-color":"yellow","circle-stroke-width":2,"circle-stroke-color":"darkblue","circle-opacity":["interpolate",["linear"],["get","population"],4e4,1,2e6,1]},ie=(e,o)=>{const _="rgba(255,0,0,0.1)",p="rgba(0,0,255,0.1)",m="rgba(0,255,0,0.1)",u=e.get("SuaraTerba"),i=e.get("WADMKK"),b=u=="Jokowi"?_:u=="Prabowo"?p:m;o.getFill().setColor(b),o.getText().setText(u+`
`+i)},de=(e,o)=>{const _="rgba(255,0,0,1)",p="rgba(0,0,255,1)",m="rgba(0,255,0,1)",u=e.get("SuaraTerba"),i=e.get("WADMKK"),b=u=="Jokowi"?_:u=="Prabowo"?p:m;o.getFill().setColor(b),o.getText().setText(u+`
`+i)},ue=e=>{let o={kota:e.selected[0].values_.WADMKK,mayoritas:e.selected[0].values_.Suara_Terba,total_suara:e.selected[0].values_.SUM_Masa,total_suara_manual:"0",jokowi:e.selected[0].values_.SUM_Jokowi,prabowo:e.selected[0].values_.SUM_Prabow,hoax_y:e.selected[0].values_.SUM_Y_Hoax,hoax_t:e.selected[0].values_.SUM_T_Hoax,hoax_r:e.selected[0].values_.SUM_R_Hoax};g.dispatch("cart/addShape",o),g.commit("cart/initialiseStore")},_e=e=>{if(e.values_.WADMKK!=null)return e.values_.WADMKK,e.values_.WADMKK!=null},pe=e=>{if(e&&e.values_.features)return e.values_.features[0].values_.data.name!=null};async function fe(){f.features.forEach(e=>{E=E+e.properties.Ragu*e.properties.Masa,P=P+e.properties.Jokowi*e.properties.Masa,C=C+e.properties.Prabowo*e.properties.Masa,z=z+e.properties.Masa,D=D+e.properties.Y_Hoax*e.properties.Masa,I=I+e.properties.T_Hoax*e.properties.Masa,K=K+e.properties.Y_Pro*e.properties.Masa,A=A+e.properties.T_Pro*e.properties.Masa,J=J+e.properties.Rdata*e.properties.Masa}),await ze(),g.dispatch("cart/addStatistik",{Ragu:E,Jokowi:P,Prabowo:C,TotalSuara:z,Y_hoax:D,T_hoax:I,pro:K,t_pro:A,Radikal:J}),g.dispatch("cart/addPersonal",statistic_selected),g.commit("cart/initialiseStore")}return X(()=>{const e=R.value?R.value.map:null;W.value&&W.value.source,fe(),e&&e.on("postcompose",function(o){document.querySelector("#mapbase canvas").style.filter="brightness(0.6) invert(1) contrast(3) hue-rotate(200deg) saturate(0.5) brightness(0.7)"})}),(e,o)=>{const _=a("ol-fullscreen-control"),p=a("ol-scaleline-control"),m=a("ol-rotate-control"),u=a("ol-zoom-control"),i=a("ol-view"),b=a("ol-source-osm"),me=a("ol-tile-layer"),he=a("ol-source-webglpoints"),xe=a("ol-webgl-points-layer"),H=a("ol-source-vector"),j=a("ol-style-stroke"),h=a("ol-style-fill"),N=a("ol-style-text"),F=a("ol-style"),ge=a("ol-vector-layer"),we=a("ol-interaction-select"),be=a("ol-style-icon"),ye=a("ol-interaction-clusterselect"),ve=a("ol-style-circle"),ke=a("ol-animated-clusterlayer"),Se=a("ol-map");return y(),v("div",mt,[t(Se,{loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,style:{height:"100vh"},ref_key:"mapRef",ref:R,renderer:"webgl"},{default:l(()=>[t(_),t(p),t(m),t(u),t(i,{ref:"view",center:ae.value,rotation:le.value,zoom:re.value,projection:V.value},null,8,["center","rotation","zoom","projection"]),t(me,{title:"Base",id:"mapbase"},{default:l(()=>[t(b)]),_:1}),t(xe,{styles:ce,title:"Point"},{default:l(()=>[t(he,{format:M(q),url:"https://raw.githubusercontent.com/timfajr/axczweqe/main/src/assets/jabar_P.json"},null,8,["format"])]),_:1}),t(ge,{title:"Jabar",id:"mapshape"},{default:l(()=>[t(H,{ref:"kabupaten",url:"https://raw.githubusercontent.com/timfajr/axczweqe/main/src/assets/jabar_shape.json",format:M(q),projection:V.value},null,8,["format","projection"]),t(F,{overrideStyleFunction:ie,zIndex:1},{default:l(()=>[t(j,{color:"white",width:1}),t(h,{color:"rgba(255,255,255,0.1)"}),t(N,{font:"15px sans-serif"},{default:l(()=>[t(h,{color:"white"})]),_:1})]),_:1})]),_:1}),t(we,{onSelect:ue,filter:_e},{default:l(()=>[t(F,{overrideStyleFunction:de},{default:l(()=>[t(j,{color:"white",width:1}),t(h,{color:"rgba(255,255,255,0.1)"}),t(N,{font:"15px sans-serif"},{default:l(()=>[t(h,{color:"white"})]),_:1})]),_:1})]),_:1}),t(ye,{onSelect:S,pointRadius:8,filter:pe},{default:l(()=>[t(F,null,{default:l(()=>[t(j,{color:"green",width:5}),t(h,{color:"rgba(255,255,255,0.5)"}),t(be,{src:M(te),scale:.05},null,8,["src"])]),_:1})]),_:1}),t(ke,{animationDuration:500,distance:40,title:"Cluster"},{default:l(()=>[t(H,{features:M(w),onFeaturesloadstart:d,onFeaturesloadend:se,onFeaturesloaderror:T},null,8,["features"]),t(F,{overrideStyleFunction:k},{default:l(()=>[t(j,{color:"red",width:2}),t(h,{color:"rgba(255,255,255,0.1)"}),t(ve,{radius:20},{default:l(()=>[t(j,{color:"black",width:15,lineDash:[],lineCap:"butt"}),t(h,{color:"black"})]),_:1}),t(N,null,{default:l(()=>[t(h,{color:"white"})]),_:1})]),_:1})]),_:1})]),_:1},512)])}}},Mt=$(ht,[["__scopeId","data-v-6a085a74"]]);export{St as H,jt as L,Mt as M,$t as N,Ft as S};
